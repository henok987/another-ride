# External User Service Environment Configuration
# Copy this file to .env and update the values according to your environment

# ===== SERVER CONFIGURATION =====
PORT=3001
NODE_ENV=development

# ===== DATABASE CONFIGURATION =====
MONGODB_URI=mongodb://localhost:27017/user-service

# ===== AUTHENTICATION CONFIGURATION =====
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h

# Service-to-service authentication tokens (comma-separated)
SERVICE_TOKENS=ride-service-token-123,payment-service-token-456,notification-service-token-789

# ===== EXTERNAL SERVICE CONFIGURATION =====
# URLs for external services
RIDE_SERVICE_URL=http://localhost:4000
PAYMENT_SERVICE_URL=http://localhost:4001
NOTIFICATION_SERVICE_URL=http://localhost:4002

# External service communication settings
EXTERNAL_SERVICE_TIMEOUT=5000
EXTERNAL_SERVICE_RETRY_ATTEMPTS=3

# ===== RATE LIMITING CONFIGURATION =====
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=200

# ===== LOGGING CONFIGURATION =====
LOG_DIR=./logs
MAX_LOG_SIZE=10485760
MAX_LOG_FILES=5
LOG_LEVEL=info

# ===== SECURITY CONFIGURATION =====
# CORS settings
CORS_ORIGIN=http://localhost:3000,http://localhost:4000,http://localhost:4001,http://localhost:4002

# Helmet security settings
HELMET_CSP_ENABLED=true
HELMET_HSTS_ENABLED=true

# ===== MONITORING CONFIGURATION =====
# Metrics collection
METRICS_ENABLED=true
METRICS_INTERVAL=60000

# Health check settings
HEALTH_CHECK_INTERVAL=30000

# ===== DEVELOPMENT CONFIGURATION =====
# Debug settings
DEBUG=user-service:*
VERBOSE_LOGGING=true

# ===== PRODUCTION CONFIGURATION =====
# Uncomment and configure for production deployment

# SSL/TLS Configuration
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# Redis Configuration (for session storage, caching, etc.)
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password

# Load Balancer Configuration
# TRUST_PROXY=true
# PROXY_TIMEOUT=30000

# Database Connection Pool Settings
# DB_POOL_SIZE=10
# DB_POOL_MIN=2
# DB_POOL_MAX=20

# ===== EXTERNAL SERVICE INTEGRATION =====
# Service discovery settings
SERVICE_DISCOVERY_ENABLED=false
SERVICE_REGISTRY_URL=http://localhost:8500

# Circuit breaker settings
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60000

# ===== BACKUP AND RECOVERY =====
# Backup settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# ===== PERFORMANCE TUNING =====
# Node.js cluster settings
CLUSTER_ENABLED=false
CLUSTER_WORKERS=auto

# Memory settings
MAX_MEMORY_USAGE=512

# ===== FEATURE FLAGS =====
# Enable/disable features
FEATURE_BATCH_OPERATIONS=true
FEATURE_SERVICE_INTEGRATION=true
FEATURE_ADVANCED_MONITORING=true
FEATURE_CIRCUIT_BREAKER=true

# ===== TESTING CONFIGURATION =====
# Test database
TEST_MONGODB_URI=mongodb://localhost:27017/user-service-test

# Test service URLs
TEST_RIDE_SERVICE_URL=http://localhost:4000
TEST_PAYMENT_SERVICE_URL=http://localhost:4001
TEST_NOTIFICATION_SERVICE_URL=http://localhost:4002

# ===== DEPLOYMENT CONFIGURATION =====
# Docker settings
DOCKER_ENABLED=false
DOCKER_NETWORK=user-service-network

# Kubernetes settings
KUBERNETES_ENABLED=false
KUBERNETES_NAMESPACE=user-service

# ===== ALERTING CONFIGURATION =====
# Email alerts
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_SMTP_HOST=smtp.gmail.com
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USER=your-email@gmail.com
ALERT_EMAIL_PASS=your-app-password

# Slack alerts
ALERT_SLACK_ENABLED=false
ALERT_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# ===== COMPLIANCE AND AUDIT =====
# Audit logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365

# GDPR compliance
GDPR_ENABLED=true
DATA_RETENTION_DAYS=2555

# ===== CUSTOM CONFIGURATION =====
# Add your custom environment variables here
# CUSTOM_SETTING=value